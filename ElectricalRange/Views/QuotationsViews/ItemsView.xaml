<UserControl x:Class="ProjectsNow.Views.QuotationsViews.ItemsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             mc:Ignorable="d" 
             Loaded="UserControl_Loaded"
             Style="{StaticResource ViewStyle}">
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding UpdateCommand}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <UserControl.InputBindings>
        <KeyBinding Key="N" 
                    Modifiers="Ctrl+Shift"
                    Command="{Binding AddCustomCommand}">
        </KeyBinding>
        <KeyBinding Key="N" 
                    Modifiers="Ctrl"
                    Command="{Binding AddStandardCommand}">
        </KeyBinding>
    </UserControl.InputBindings>
    <UserControl.Resources>

        <ContextMenu x:Key="GridContextMenu" FontFamily="Times New Roman">

            <MenuItem Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="New Item"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/AddItem.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                </MenuItem.Icon>

                <MenuItem Command="{Binding AddStandardCommand}"
                          Style="{StaticResource MenuItemStyle}">
                    <MenuItem.Header>
                        <TextBlock Text="Standard"/>
                    </MenuItem.Header>
                    <MenuItem.Icon>
                        <Image Source="/GN.Base;component/Images/Icons/BarCode.png" 
                               RenderOptions.BitmapScalingMode="HighQuality"/>
                    </MenuItem.Icon>
                </MenuItem>

                <MenuItem Command="{Binding AddCustomCommand}"
                          Style="{StaticResource MenuItemStyle}">
                    <MenuItem.Header>
                        <TextBlock Text="Custom"/>
                    </MenuItem.Header>
                    <MenuItem.Icon>
                        <Image Source="/GN.Base;component/Images/Icons/Technical.png" 
                               RenderOptions.BitmapScalingMode="HighQuality"/>
                    </MenuItem.Icon>
                </MenuItem>
            </MenuItem>

            <MenuItem Command="{Binding AddItemsCommand}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="New Items"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/AddItems.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                </MenuItem.Icon>
            </MenuItem>

            <Separator Visibility="{Binding HasToolsButtons}">
            </Separator>

            <MenuItem Command="{Binding DetailsCommand}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Details"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/PostItems.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                </MenuItem.Icon>
            </MenuItem>

            <MenuItem Command="{Binding EnclosureCommand}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Enclosure"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/Enclosure.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                </MenuItem.Icon>
            </MenuItem>

            <MenuItem Command="{Binding AccessoriesCommand}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Accessories"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/Accessories.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                </MenuItem.Icon>
            </MenuItem>

        </ContextMenu>

        <ContextMenu x:Key="RowsContextMenu" FontFamily="Times New Roman">

            <MenuItem Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="New Item"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/AddItem.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                </MenuItem.Icon>

                <MenuItem Command="{Binding 
                                    RelativeSource=
                                    {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                    Path= DataContext.AddStandardCommand}"
                          Style="{StaticResource MenuItemStyle}">
                    <MenuItem.Header>
                        <TextBlock Text="Standard"/>
                    </MenuItem.Header>
                    <MenuItem.Icon>
                        <Image Source="/GN.Base;component/Images/Icons/BarCode.png" 
                               RenderOptions.BitmapScalingMode="HighQuality"/>
                    </MenuItem.Icon>
                </MenuItem>

                <MenuItem Command="{Binding 
                                    RelativeSource=
                                    {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                    Path= DataContext.AddCustomCommand}"
                          Style="{StaticResource MenuItemStyle}">
                    <MenuItem.Header>
                        <TextBlock Text="Custom"/>
                    </MenuItem.Header>
                    <MenuItem.Icon>
                        <Image Source="/GN.Base;component/Images/Icons/Technical.png" 
                               RenderOptions.BitmapScalingMode="HighQuality"/>
                    </MenuItem.Icon>
                </MenuItem>
            </MenuItem>

            <MenuItem Command="{Binding 
                                RelativeSource=
                                {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                Path= DataContext.AddItemsCommand}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="New Items"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/AddItems.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                </MenuItem.Icon>
            </MenuItem>

            <Separator Visibility="{Binding 
                                    RelativeSource=
                                    {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                    Path= DataContext.HasToolsButtons}">
            </Separator>

            <MenuItem Command="{Binding 
                                RelativeSource=
                                {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                Path= DataContext.EditCommand}"
                      CommandParameter="{Binding}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Info"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/Info.png" 
                           RenderOptions.BitmapScalingMode="HighQuality">
                    </Image>
                </MenuItem.Icon>
            </MenuItem>

            <Separator Visibility="{Binding 
                                    RelativeSource=
                                    {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                    Path= DataContext.HasInfoButtons}">
            </Separator>

            <MenuItem Command="{Binding 
                                RelativeSource=
                                {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                Path= DataContext.InsertUpCommand}"
                      CommandParameter="{Binding}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Insert Up"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/InsertUp.png" 
                           RenderOptions.BitmapScalingMode="HighQuality">
                    </Image>
                </MenuItem.Icon>
            </MenuItem>

            <MenuItem Command="{Binding 
                                RelativeSource=
                                {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                Path= DataContext.InsertDownCommand}"
                      CommandParameter="{Binding}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Insert Down"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/InsertDown.png" 
                           RenderOptions.BitmapScalingMode="HighQuality">
                    </Image>
                </MenuItem.Icon>
            </MenuItem>

            <Separator Visibility="{Binding 
                                    RelativeSource=
                                    {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                    Path= DataContext.HasToolsButtons}">
            </Separator>

            <MenuItem Command="{Binding 
                                RelativeSource=
                                {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                Path= DataContext.MoveUpCommand}"
                      CommandParameter="{Binding}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Move Up"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/MoveUp.png" 
                           RenderOptions.BitmapScalingMode="HighQuality">
                    </Image>
                </MenuItem.Icon>
            </MenuItem>

            <MenuItem Command="{Binding 
                                RelativeSource=
                                {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                Path= DataContext.MoveDownCommand}"
                      CommandParameter="{Binding}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Move Down"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/MoveDown.png" 
                           RenderOptions.BitmapScalingMode="HighQuality">
                    </Image>
                </MenuItem.Icon>
            </MenuItem>

            <Separator Visibility="{Binding 
                                    RelativeSource=
                                    {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                    Path= DataContext.HasMovingButtons}">
            </Separator>

            <MenuItem Command="{Binding 
                                RelativeSource=
                                {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                Path= DataContext.CopyCommand}"
                      CommandParameter="{Binding}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Copy"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/Copy.png" 
                           RenderOptions.BitmapScalingMode="HighQuality">
                    </Image>
                </MenuItem.Icon>
            </MenuItem>

            <Separator Visibility="{Binding 
                                    RelativeSource=
                                    {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                    Path= DataContext.HasToolsButtons}">
            </Separator>

            <MenuItem Command="{Binding 
                                RelativeSource=
                                {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                Path= DataContext.DeleteCommand}"
                      CommandParameter="{Binding}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Delete" Foreground="Red"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/DeleteItem.png" 
                           RenderOptions.BitmapScalingMode="HighQuality">
                    </Image>
                </MenuItem.Icon>
            </MenuItem>

            <Separator Visibility="{Binding 
                                    RelativeSource=
                                    {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                    Path= DataContext.HasToolsButtons}">
            </Separator>

            <MenuItem Command="{Binding 
                                RelativeSource=
                                {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                Path= DataContext.DetailsCommand}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Details"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/PostItems.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                </MenuItem.Icon>
            </MenuItem>

            <MenuItem Command="{Binding 
                                RelativeSource=
                                {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                Path= DataContext.EnclosureCommand}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Enclosure"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/Enclosure.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                </MenuItem.Icon>
            </MenuItem>

            <MenuItem Command="{Binding 
                                RelativeSource=
                                {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                Path= DataContext.AccessoriesCommand}"
                      Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Accessories"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/Accessories.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                </MenuItem.Icon>
            </MenuItem>

            <Separator/>

            <MenuItem Style="{StaticResource MenuItemStyle}">
                <MenuItem.Header>
                    <TextBlock Text="Change Table"/>
                </MenuItem.Header>
                <MenuItem.Icon>
                    <Image Source="/GN.Base;component/Images/Icons/Change.png" 
                           RenderOptions.BitmapScalingMode="HighQuality">
                    </Image>
                </MenuItem.Icon>

                <MenuItem Command="{Binding 
                                    RelativeSource=
                                    {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                    Path= DataContext.ToDetailsCommand}"
                          CommandParameter="{Binding}"
                          Style="{StaticResource MenuItemStyle}">
                    <MenuItem.Header>
                        <TextBlock Text="To Details"/>
                    </MenuItem.Header>
                    <MenuItem.Icon>
                        <Image Source="/GN.Base;component/Images/Icons/PostItems.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Command="{Binding 
                                    RelativeSource=
                                    {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                    Path= DataContext.ToEnclosureCommand}"
                          CommandParameter="{Binding}"
                          Style="{StaticResource MenuItemStyle}">
                    <MenuItem.Header>
                        <TextBlock Text="To Enclosure"/>
                    </MenuItem.Header>
                    <MenuItem.Icon>
                        <Image Source="/GN.Base;component/Images/Icons/Enclosure.png" 
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Command="{Binding 
                                    RelativeSource=
                                    {RelativeSource FindAncestor,AncestorType={x:Type DataGrid}}, 
                                    Path= DataContext.ToAccessoriesCommand}"
                          CommandParameter="{Binding}"
                          Style="{StaticResource MenuItemStyle}">
                    <MenuItem.Header>
                        <TextBlock Text="To Accessories"/>
                    </MenuItem.Header>
                    <MenuItem.Icon>
                        <Image Source="/GN.Base;component/Images/Icons/Accessories.png" 
                               RenderOptions.BitmapScalingMode="HighQuality"/>
                    </MenuItem.Icon>
                </MenuItem>
            </MenuItem>
            
        </ContextMenu>

    </UserControl.Resources>
    <Grid Background="{StaticResource LinearGradientGray}">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Grid Background="{StaticResource LinearGradientGray}">
            <Grid.Effect>
                <DropShadowEffect BlurRadius="5" Opacity="0.3" Direction="-90" RenderingBias="Quality" ShadowDepth="2"/>
            </Grid.Effect>
        </Grid>

        <TextBlock  Style="{StaticResource TitleStyle}">
            <Run Text="Panel:"/>
            <Run Text="{Binding PanelData.PanelNameInfo, Mode=OneWay}" Foreground="{StaticResource Blue}"/>
        </TextBlock>

        <TextBlock Style="{StaticResource TitleStyle}"
                   Margin="0,35,0,0"
                   FontSize="28"
                   VerticalAlignment="Top"
                   HorizontalAlignment="Center"
                   Text="{Binding ItemTable}">
        </TextBlock>

        <TextBlock Style="{StaticResource TitleStyle}"
                   Margin="0,45,20,0"
                   FontSize="16"
                   FontWeight="Bold"
                   VerticalAlignment="Top"
                   HorizontalAlignment="Right">
            <Run Text="Panel Qty:"/>
            <Run Text="{Binding PanelData.PanelQty, Mode=OneWay}" Foreground="{StaticResource Blue}"/>
        </TextBlock>

        <TabControl Style="{StaticResource ViewsTabControlStyle}">
            <TabControl.Resources>
                <Style TargetType="TabItem" BasedOn="{StaticResource TextItemStyle}"/>
            </TabControl.Resources>

            <TabItem Header="TabItem" Width="20" Visibility="Hidden"/>

            <TabItem Header="Tools" IsSelected="True">
                <StackPanel Orientation="Horizontal"
                            VerticalAlignment="Center"
                            Margin="10,0,0,0">

                    <TextBlock Text="Select Table" 
                               Width="50" 
                               VerticalAlignment="Center" 
                               TextWrapping="Wrap" FontSize="18" 
                               Foreground="{StaticResource Blue}" 
                               FontFamily="Times New Roman" 
                               TextAlignment="Center">
                    </TextBlock>

                    <Button Command="{Binding DetailsCommand}"
                            Tag="Details"
                            Padding="0,5,0,-8"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/PostItems.png</ImageSource>
                    </Button>

                    <Button Command="{Binding EnclosureCommand}"
                            Tag="Enclosure"
                            Padding="0,5,0,-5"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/PanelItems.png</ImageSource>
                    </Button>

                    <Button Command="{Binding AccessoriesCommand}"
                            Tag="Accessories"
                            Padding="0,5,0,-5"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/Accessories.png</ImageSource>
                    </Button>

                    <GridSplitter Width="2" Margin="5" Background="LightGray"/>

                    <Button Command="{Binding CostSheetCommand}"
                            Tag="Cost Sheet"
                            Padding="0,5,0,-10"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/CostSheet.png</ImageSource>
                    </Button>

                    <GridSplitter Width="2" Margin="5" Background="LightGray"/>

                    <Button Command="{Binding AddCommand}"
                            CommandParameter="{Binding SelectedItem}"
                            Tag="New Item"
                            Padding="0,5,0,-10"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/AddItem.png</ImageSource>
                    </Button>

                    <Button Command="{Binding AddItemsCommand}"
                            CommandParameter="{Binding SelectedItem}"
                            Tag="New Items"
                            Padding="0,5,0,-10"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/AddItems.png</ImageSource>
                    </Button>

                    <GridSplitter Width="2" Visibility="{Binding HasToolsButtons}" Margin="5" Background="LightGray"/>

                    <Button Command="{Binding EditCommand}"
                            CommandParameter="{Binding SelectedItem}"
                            Tag="Info"
                            Padding="0,5,0,-8"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/Info.png</ImageSource>
                    </Button>

                    <GridSplitter Width="2" Visibility="{Binding HasInfoButtons}" Margin="5" Background="LightGray"/>

                    <Button Command="{Binding InsertUpCommand}"
                            CommandParameter="{Binding SelectedItem}"
                            Tag="Insert Up"
                            Padding="0,5,0,-10"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/InsertUp.png</ImageSource>
                    </Button>

                    <Button Command="{Binding InsertDownCommand}"
                            CommandParameter="{Binding SelectedItem}"
                            Tag="Insert Down"
                            FontSize="11"
                            Padding="0,5,0,-10"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/InsertDown.png</ImageSource>
                    </Button>

                    <GridSplitter Width="2" Visibility="{Binding HasToolsButtons}" Margin="5" Background="LightGray"/>

                    <Button Command="{Binding MoveUpCommand}"
                            CommandParameter="{Binding SelectedItem}"
                            Tag="Move Up"
                            Padding="0,5,0,-10"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/MoveUp.png</ImageSource>
                    </Button>

                    <Button Command="{Binding MoveDownCommand}"
                            CommandParameter="{Binding SelectedItem}"
                            Tag="Move Down"
                            FontSize="11"
                            Padding="0,5,0,-10"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/MoveDown.png</ImageSource>
                    </Button>

                    <GridSplitter Width="2" Visibility="{Binding HasMovingButtons}" Margin="5" Background="LightGray"/>

                    <Button Command="{Binding CopyCommand}"
                            CommandParameter="{Binding SelectedItem}"
                            Tag="Copy"
                            Padding="0,8,0,-5"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/Copy.png</ImageSource>
                    </Button>

                    <GridSplitter Width="2" Visibility="{Binding HasToolsButtons}" Margin="5" Background="LightGray"/>

                    <Button Command="{Binding DeleteCommand}"
                            CommandParameter="{Binding SelectedItem}"
                            Tag="Delete"
                            Padding="0,5,0,-8"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/DeleteItem.png</ImageSource>
                    </Button>

                    <Button Command="{Binding ResetCommand}"
                            Tag="Reset"
                            Padding="0,5,0,-8"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/PreviousYears.png</ImageSource>
                    </Button>

                </StackPanel>
            </TabItem>

            <TabItem Header="Library">
                <StackPanel Orientation="Horizontal"
                            VerticalAlignment="Center"
                            Margin="10,0,0,0">

                    <Button Command="{Binding ReferencesCommand}"
                            Tag="References"
                            FontSize="11"
                            Padding="0,5,0,-5"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/BarCode.png</ImageSource>
                    </Button>

                    <!--<Button Command="{Binding DigitalLibraryCommand}"
                            Tag="Library"
                            FontSize="11"
                            Padding="0,5,0,-5"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/DigitalLibrary.png</ImageSource>
                    </Button>-->

                    <Button Command="{Binding AddEnclosureCommand}"
                            Tag="Add Enclosure"
                            FontSize="11"
                            Padding="0,5,0,-5"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/NewPanels.png</ImageSource>
                    </Button>

                    <Button Command="{Binding DeleteEnclosureCommand}"
                            Tag="Delete Enclosure"
                            FontSize="11"
                            Padding="0,5,0,-5"
                            Style="{StaticResource ManagerSubTapsButtons}">
                        <ImageSource>/Images/Icons/DeleteEnclosure.png</ImageSource>
                    </Button>

                </StackPanel>
            </TabItem>

            <TabItem Header="Filters" HorizontalAlignment="Right">
                <StackPanel Orientation="Horizontal"
                            VerticalAlignment="Bottom"
                            Margin="7,0,0,0">

                    <TextBox Width="148" 
                             Text="{Binding Article1, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource FilterInputStyle}">
                    </TextBox>

                    <TextBox Width="148" 
                             Text="{Binding Article2, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource FilterInputStyle}">
                    </TextBox>

                    <TextBox Width="198" 
                             Text="{Binding Code, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource FilterInputStyle}">
                    </TextBox>

                    <TextBox Width="298" 
                             Text="{Binding Description, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource FilterInputStyle}">
                    </TextBox>

                    <TextBox Width="78" 
                             Text="{Binding ItemQty, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource FilterInputStyle}">
                    </TextBox>

                    <TextBox Width="178" 
                             Text="{Binding Brand, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource FilterInputStyle}">
                    </TextBox>

                    <TextBox Width="78" 
                             Text="{Binding ItemDiscount, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource FilterInputStyle}">
                    </TextBox>

                    <Button Command="{Binding DeleteFilterCommand}"
                            Style="{StaticResource FilterButtonStyle}">
                    </Button>
                </StackPanel>
            </TabItem>

        </TabControl>


        <Grid Grid.Row="1"
              Margin="10,10,10,10">
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition Height="60"/>
            </Grid.RowDefinitions>
            <Grid.Effect>
                <DropShadowEffect BlurRadius="5" Opacity="0.5" Direction="-90" RenderingBias="Quality" ShadowDepth="2"/>
            </Grid.Effect>
            <Grid Grid.Row="1"
                  Background="LightGray">
                <Grid.Resources>
                    <Style x:Key="LableStyle" TargetType="{x:Type TextBlock}">
                        <Setter Property="SnapsToDevicePixels" Value="True"/>
                        <Setter Property="FontSize" Value="16"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="FontFamily" Value="Times New Roman"/>
                        <Setter Property="Foreground" Value="{StaticResource MyBlue}"/>
                        <Setter Property="VerticalAlignment" Value="Center"/>
                    </Style>
                </Grid.Resources>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Row="0"
                            Grid.Column="0"
                            Orientation="Horizontal">
                    <TextBlock Width="80" Text="Unit Cost:" Style="{StaticResource LableStyle}" TextAlignment="Right"/>
                    <TextBlock Text="{Binding PanelData.PanelCost, StringFormat=N2}" Style="{StaticResource LableStyle}" Margin="5,0" Foreground="Black"/>
                </StackPanel>

                <StackPanel Grid.Row="1"
                            Grid.Column="0"
                            Orientation="Horizontal">
                    <TextBlock Width="80" Text="Total Cost:" Style="{StaticResource LableStyle}" TextAlignment="Right"/>
                    <TextBlock Text="{Binding PanelData.PanelsCost, StringFormat=N2}" Style="{StaticResource LableStyle}" Margin="5,0" Foreground="Black"/>
                </StackPanel>

                <StackPanel Grid.Row="0"
                            Grid.Column="1"
                            Orientation="Horizontal">
                    <TextBlock Width="125" Text="Unit Price:" Style="{StaticResource LableStyle}" TextAlignment="Right"/>
                    <TextBlock Text="{Binding PanelData.PanelPrice, StringFormat=N2}" Style="{StaticResource LableStyle}" Margin="5,0" Foreground="Black"/>
                </StackPanel>
                
                <StackPanel Grid.Row="1"
                            Grid.Column="1"
                            Orientation="Horizontal">
                    <TextBlock Width="125" Text="Total Price:" Style="{StaticResource LableStyle}" TextAlignment="Right"/>
                    <TextBlock Text="{Binding PanelData.PanelsPrice, StringFormat=N2}" Style="{StaticResource LableStyle}" Margin="5,0" Foreground="Black"/>
                </StackPanel>

                <StackPanel Grid.Row="0"
                            Grid.Column="2"
                            Orientation="Horizontal">
                    <TextBlock Width="125" Text="Details Cost:" Style="{StaticResource LableStyle}" TextAlignment="Right"/>
                    <TextBlock Text="{Binding DetailsCost, StringFormat=N2}" Style="{StaticResource LableStyle}" Margin="5,0" Foreground="Black"/>
                </StackPanel>
                
                <StackPanel Grid.Row="1"
                            Grid.Column="2"
                            Orientation="Horizontal">
                    <TextBlock Width="125" Text="Enclosure Cost:" Style="{StaticResource LableStyle}" TextAlignment="Right"/>
                    <TextBlock Text="{Binding EnclosureCost, StringFormat=N2}" Style="{StaticResource LableStyle}" Margin="5,0" Foreground="Black"/>
                </StackPanel>

                <StackPanel Grid.Row="0"
                            Grid.Column="3"
                            Orientation="Horizontal">
                    <TextBlock Width="130" Text="Accessories Cost:" Style="{StaticResource LableStyle}" TextAlignment="Right"/>
                    <TextBlock Text="{Binding AccessoriesCost, StringFormat=N2}" Style="{StaticResource LableStyle}" Margin="5,0" Foreground="Black"/>
                </StackPanel>

                <StackPanel Grid.Row="1"
                            Grid.Column="3"
                            Orientation="Horizontal">
                    <TextBlock Width="130" Text="Copper Cost:" Style="{StaticResource LableStyle}" TextAlignment="Right"/>
                    <TextBlock Text="{Binding CopperCost, StringFormat=N2}" Style="{StaticResource LableStyle}" Margin="5,0" Foreground="Black"/>
                </StackPanel>
            </Grid>

            <DataGrid x:Name="grid" 
                      ItemsSource="{Binding ItemsCollection}"
                      SelectedIndex="{Binding SelectedIndex, Mode=OneWayToSource}"
                      SelectedItem="{Binding SelectedItem, Mode=TwoWay}"
                      ContextMenu="{StaticResource GridContextMenu}"
                      Style="{StaticResource ViewDataGridStyle}"
                      HorizontalScrollBarVisibility="Visible">
                <DataGrid.InputBindings>
                    <MouseBinding Gesture="LeftDoubleClick" 
                                  Command="{Binding EditCommand}"
                                  CommandParameter="{Binding SelectedItem}">
                    </MouseBinding>
                </DataGrid.InputBindings>
                <DataGrid.Resources>
                    <Style TargetType="{x:Type DataGridRow}"
                           BasedOn="{StaticResource ViewRowsStyle}">
                        <Setter Property="ContextMenu" Value="{StaticResource RowsContextMenu}"/>
                    </Style>
                </DataGrid.Resources>
                <DataGrid.Columns>

                    <DataGridTextColumn Width="150" 
                                        Header="Article"
                                        Binding="{Binding Article1}"
                                        ElementStyle="{StaticResource LeftColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="150" 
                                        Header="Article"
                                        Binding="{Binding Article2}"
                                        ElementStyle="{StaticResource LeftColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="200" 
                                        Header="Code"
                                        Binding="{Binding Code}"
                                        ElementStyle="{StaticResource LeftColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="300" 
                                        Header="Description"
                                        Binding="{Binding Description}"
                                        ElementStyle="{StaticResource LeftColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="80" 
                                        Header="Qty"
                                        Binding="{Binding ItemQty, StringFormat=N2}"
                                        ElementStyle="{StaticResource CenterColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="180" 
                                        Header="Brand"
                                        Binding="{Binding Brand}"
                                        ElementStyle="{StaticResource LeftColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="80" 
                                        Header="Discount"
                                        Binding="{Binding ItemDiscount, StringFormat=N2}"
                                        ElementStyle="{StaticResource CenterColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="150" 
                                        Header="Unit Cost"
                                        Binding="{Binding ItemCost, StringFormat=N2}"
                                        ElementStyle="{StaticResource CenterColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="150" 
                                        Header="Unit Price"
                                        Binding="{Binding ItemPrice, StringFormat=N2}"
                                        ElementStyle="{StaticResource CenterColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="150" 
                                        Header="Total Cost"
                                        Binding="{Binding ItemTotalCost, StringFormat=N2}"
                                        ElementStyle="{StaticResource CenterColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="150" 
                                        Header="Total Price"
                                        Binding="{Binding ItemTotalPrice, StringFormat=N2}"
                                        ElementStyle="{StaticResource CenterColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="100" 
                                        Header="Type"
                                        Binding="{Binding ItemType}"
                                        ElementStyle="{StaticResource CenterColumnView}">
                    </DataGridTextColumn>

                    <DataGridTextColumn Width="300" 
                                        Header="Note"
                                        Binding="{Binding Remarks}"
                                        ElementStyle="{StaticResource LeftColumnView}">
                    </DataGridTextColumn>

                </DataGrid.Columns>
            </DataGrid>
        </Grid>
    </Grid>
</UserControl>
